<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Forgot Password - ChillBoard</title>
    <style>
      body{font-family:Arial,Helvetica,sans-serif;max-width:520px;margin:40px auto;padding:0 16px}
      label{display:block;margin-top:12px}
      input{width:100%;padding:10px;margin-top:6px}
      button{margin-top:12px;padding:10px 14px}
      .msg{margin-top:12px}
    </style>
  </head>
  <body>
    <h1>Forgot Password</h1>
    <p>Enter your registered email to receive a 6â€‘digit code.</p>
    <label>Email
      <input id="email" type="email" placeholder="you@example.com" />
    </label>
    <button id="send">Send Code</button>
    <div class="msg" id="msg"></div>
    <script>
      const API = (path) => `${location.origin.replace(/:\d+$/, ':5000')}${path}`; // assumes backend on :5000 locally
      document.getElementById('send').onclick = async () => {
        const email = document.getElementById('email').value.trim();
        const res = await fetch(API('/auth/forgot-password/request'), {
          method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email })
        });
        const data = await res.json();
        document.getElementById('msg').textContent = data.message || res.status;
      };
    </script>
  </body>
</html>
